<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>API Test</title>
</head>
<body>
    <h1>åˆ©ç”¨å¯èƒ½ãªãƒ¢ãƒ‡ãƒ«ç¢ºèª</h1>
    <button id="list-models-btn">ãƒ¢ãƒ‡ãƒ«ä¸€è¦§ã‚’å–å¾—</button>
    <pre id="models-result"></pre>

    <script src="config.js"></script>
    <script>
        document.getElementById('list-models-btn').addEventListener('click', async () => {
            const resultEl = document.getElementById('models-result');
            resultEl.textContent = 'å–å¾—ä¸­...\n';
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1/models?key=${API_KEY}`);
                
                if (!response.ok) {
                    const errorData = await response.json();
                    resultEl.textContent = `âŒ ã‚¨ãƒ©ãƒ¼: ${JSON.stringify(errorData, null, 2)}`;
                    return;
                }
                
                const data = await response.json();
                resultEl.textContent = 'âœ… åˆ©ç”¨å¯èƒ½ãªãƒ¢ãƒ‡ãƒ«:\n\n';
                data.models.forEach(model => {
                    if (model.supportedGenerationMethods && model.supportedGenerationMethods.includes('generateContent')) {
                        resultEl.textContent += `ğŸ“ ${model.name}\n`;
                    }
                });
            } catch (error) {
                resultEl.textContent = `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`;
            }
        });
    </script>
</body>
</html>
